<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <base href="/" />
    <title>Sprite Garden</title>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Sprite Garden - Grow Sprites" />
    <meta name="theme-color" content="#000000" />
    <link rel="stylesheet" href="styles.css" type="text/css" />
    <link rel="manifest" href="manifest.json" />
    <link rel="icon" href="assets/icons/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png" />
    <script src="service-worker/init.mjs" type="module"></script>
  </head>
  <body>
    <div id="gameContainer">
      <div id="loading">
        <div class="pixel" style="top: 0; left: 4rem"></div>
        <div class="pixel" style="top: 1rem; left: 1rem"></div>
        <div class="pixel" style="top: 1rem; left: 7rem"></div>
        <div class="pixel" style="top: 4rem; left: 0"></div>
        <div class="pixel" style="top: 4rem; left: 8rem"></div>
        <div class="pixel" style="top: 7rem; left: 1rem"></div>
        <div class="pixel" style="top: 7rem; left: 7rem"></div>
        <div class="pixel" style="top: 8rem; left: 4rem"></div>
        <div class="pixel" style="top: 4rem; left: 4rem"></div>
      </div>
      <canvas id="canvas"></canvas>
      <div id="ui-grid" class="ui-grid">
        <div class="ui-grid__corner ui-grid__corner--top-left">
          <div id="stats">
            <div class="ui-grid__corner--heading">ğŸŒ± Sprite Garden</div>
            <div class="ui-grid__corner--container" hidden="hidden">
              <div>Biome: <span id="currentBiome">Forest</span></div>
              <div>Depth: <span id="currentDepth">Surface</span></div>
              <div>Total Seeds: <span id="seedCount">0</span></div>
              <div>Time: <span id="gameTime">0</span>s</div>

              <div
                style="
                  margin-top: 15px;
                  border-top: 1px solid #ccc;
                  padding-top: 10px;
                "
              >
                <button
                  id="aboutBtn"
                  style="
                    background: #4caf50;
                    border: none;
                    border-radius: 0.25rem;
                    color: white;
                    cursor: pointer;
                    padding: 0.5rem 1rem;
                    margin: 0.25rem;
                    width: calc(100% - 0.5rem);
                  "
                >
                  â„¹ï¸ About
                </button>
                <button
                  id="privacyBtn"
                  style="
                    background: #2196f3;
                    border: none;
                    border-radius: 0.25rem;
                    color: white;
                    cursor: pointer;
                    padding: 0.5rem 1rem;
                    margin: 0.25rem;
                    width: calc(100% - 0.5rem);
                  "
                >
                  ğŸ”’ Privacy
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="ui-grid__corner ui-grid__corner--top-right">
          <div id="settings">
            <div class="ui-grid__corner--heading">âš™ï¸ Settings</div>
            <div class="ui-grid__corner--container" hidden="hidden">
              <div id="resolution">
                <select id="resolutionSelect">
                  <option value="400">400x400</option>
                  <option hidden="hidden" value="fullscreen">Fullscreen</option>
                  <option value="800">800x800</option>
                </select>
              </div>
              <button id="worldState">ğŸŒ World State</button>
              <button id="toggleView">
                ğŸ” <span id="viewModeText">View Normal</span>
              </button>
              <button id="toggleFog">
                â˜ <span id="fogModeText">Fog</span>
              </button>
              <button id="toggleBreakMode">
                â›ï¸ <span id="breakModeText">Dig Regular</span>
              </button>
              <div id="mapEditor" hidden="hidden">
                <div class="ui-grid__corner--sub-heading">ğŸ—ºï¸ Map Editor</div>
                <button id="toggleMapEditor">
                  ğŸ“ <span id="mapEditorText">Enable Editor</span>
                </button>
                <div id="mapEditorControls" hidden="hidden">
                  <div>
                    Brush Size:
                    <select id="brushSizeSelect">
                      <option value="1">1x1</option>
                      <option value="3">3x3</option>
                      <option value="5">5x5</option>
                    </select>
                  </div>
                  <div style="margin-top: 5px">
                    <div style="margin-bottom: 5px">ğŸŒ Terrain:</div>
                    <div
                      style="
                        display: grid;
                        grid-template-columns: repeat(4, 1fr);
                        gap: 2px;
                        margin-bottom: 10px;
                      "
                    >
                      <button
                        class="tile-btn"
                        data-tile="AIR"
                        style="background: #87ceeb"
                      >
                        Air
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="DIRT"
                        style="background: #8b4513; color: white"
                      >
                        Dirt
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="GRASS"
                        style="background: #90ee90"
                      >
                        Grass
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="STONE"
                        style="background: #696969; color: white"
                      >
                        Stone
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="SAND"
                        style="background: #f4a460"
                      >
                        Sand
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="CLAY"
                        style="background: #cd853f"
                      >
                        Clay
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="SNOW"
                        style="background: #fffafa"
                      >
                        Snow
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="ICE"
                        style="background: #b0e0e6"
                      >
                        Ice
                      </button>
                    </div>
                    <div style="margin-bottom: 5px">ğŸ”ï¸ Resources:</div>
                    <div
                      style="
                        display: grid;
                        grid-template-columns: repeat(4, 1fr);
                        gap: 2px;
                        margin-bottom: 10px;
                      "
                    >
                      <button
                        class="tile-btn"
                        data-tile="COAL"
                        style="background: #2f4f4f; color: white"
                      >
                        Coal
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="IRON"
                        style="background: #b87333"
                      >
                        Iron
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="GOLD"
                        style="background: #ffd700"
                      >
                        Gold
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="BEDROCK"
                        style="background: #1c1c1c; color: white"
                      >
                        Bedrock
                      </button>
                    </div>
                    <div style="margin-bottom: 5px">ğŸŒ³ Nature:</div>
                    <div
                      style="
                        display: grid;
                        grid-template-columns: repeat(4, 1fr);
                        gap: 2px;
                        margin-bottom: 10px;
                      "
                    >
                      <button
                        class="tile-btn"
                        data-tile="TREE_TRUNK"
                        style="background: #8b4513; color: white"
                      >
                        Trunk
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="TREE_LEAVES"
                        style="background: #228b22; color: white"
                      >
                        Leaves
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="WATER"
                        style="background: #4169e1; color: white"
                      >
                        Water
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="LAVA"
                        style="background: #ff4500; color: white"
                      >
                        Lava
                      </button>
                    </div>
                    <div style="margin-bottom: 5px">ğŸŒ± Crops:</div>
                    <div
                      style="
                        display: grid;
                        grid-template-columns: repeat(4, 1fr);
                        gap: 2px;
                      "
                    >
                      <button
                        class="tile-btn"
                        data-tile="WHEAT"
                        style="background: #daa520"
                      >
                        Wheat
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="CARROT"
                        style="background: #ff8c00"
                      >
                        Carrot
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="MUSHROOM"
                        style="background: #8b0000; color: white"
                      >
                        Mushroom
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="CACTUS"
                        style="background: #32cd32"
                      >
                        Cactus
                      </button>
                    </div>
                  </div>
                  <div style="margin-top: 10px">
                    <button id="clearMapEditor">ğŸ§¹ Clear All</button>
                    <button id="fillMapEditor">ğŸª£ Fill Layer</button>
                  </div>
                  <div style="margin-top: 10px">
                    <button id="saveMapAsState">ğŸ’¾ Save as State</button>
                    <button id="resetToGenerated">ğŸŒ Reset to Generated</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="ui-grid__corner ui-grid__corner--bottom-left">
          <div id="controls">
            <div class="ui-grid__corner--heading">âŒ¨ï¸ Controls</div>
            <div class="ui-grid__corner--container" hidden="hidden">
              <div class="control-instruction">w/â†‘/Space: Jump</div>
              <div class="control-instruction">f: Plant/Harvest</div>
              <div class="control-instruction">r: Break Block</div>
              <div class="control-instruction">a/d or â†/â†’: Move</div>
              <div class="control-instruction">u/i/o/j/l/m/,/.: Set Block</div>
              <div class="control-instruction">ctrl+s: World State</div>
              <div class="control-instruction">Mouse: Inspect Tiles</div>
              <div class="control-instruction">Touch here for mobile</div>
            </div>
          </div>
        </div>

        <div class="ui-grid__corner ui-grid__corner--bottom-right">
          <div id="inventory">
            <div class="ui-grid__corner--heading" id="seeds">ğŸ’ Inventory</div>
            <div class="ui-grid__corner--container" hidden="hidden">
              <div class="ui-grid__corner--sub-heading">ğŸ«˜ Seeds</div>
              <div class="ui-grid__corner--sub-section">
                <div>Selected: <span id="selectedSeed">None</span></div>
                <div>
                  <button class="seed-btn" data-wheat="data-wheat">
                    ğŸŒ¾ <span id="wheatCount">0</span>
                  </button>
                  <button class="seed-btn" data-carrot="data-carrot">
                    ğŸ¥• <span id="carrotCount">0</span>
                  </button>
                  <button class="seed-btn" data-mushroom="data-mushroom">
                    ğŸ„ <span id="mushroomCount">0</span>
                  </button>
                  <button class="seed-btn" data-cactus="data-cactus">
                    ğŸŒµ <span id="cactusCount">0</span>
                  </button>
                  <button class="seed-btn" data-walnut="data-walnut">
                    ğŸ¥œ <span id="walnutCount">0</span>
                  </button>
                  <button
                    class="seed-btn"
                    data-berry_bush="data-berry_bush"
                    style="
                      background: #dc143c;
                      border: 1px solid #000;
                      color: #fff;
                      cursor: pointer;
                      padding: 4px 8px;
                      margin: 2px;
                    "
                  >
                    ğŸ“ <span id="berry_bushCount">0</span>
                  </button>

                  <button
                    class="seed-btn"
                    data-bamboo="data-bamboo"
                    style="
                      background: #90ee90;
                      border: 1px solid #000;
                      color: #000;
                      cursor: pointer;
                      padding: 4px 8px;
                      margin: 2px;
                    "
                  >
                    ğŸ‹ <span id="bambooCount">0</span>
                  </button>

                  <button
                    class="seed-btn"
                    data-sunflower="data-sunflower"
                    style="
                      background: #ffd700;
                      border: 1px solid #000;
                      color: #000;
                      cursor: pointer;
                      padding: 4px 8px;
                      margin: 2px;
                    "
                  >
                    ğŸŒ» <span id="sunflowerCount">0</span>
                  </button>

                  <button
                    class="seed-btn"
                    data-corn="data-corn"
                    style="
                      background: #f0e68c;
                      border: 1px solid #000;
                      color: #000;
                      cursor: pointer;
                      padding: 4px 8px;
                      margin: 2px;
                    "
                  >
                    ğŸŒ½ <span id="cornCount">0</span>
                  </button>

                  <button
                    class="seed-btn"
                    data-pine_tree="data-pine_tree"
                    style="
                      background: #2e5930;
                      border: 1px solid #000;
                      color: #fff;
                      cursor: pointer;
                      padding: 4px 8px;
                      margin: 2px;
                    "
                  >
                    ğŸŒ² <span id="pine_treeCount">0</span>
                  </button>

                  <button
                    class="seed-btn"
                    data-willow_tree="data-willow_tree"
                    style="
                      background: #8fbc8f;
                      border: 1px solid #000;
                      color: #000;
                      cursor: pointer;
                      padding: 4px 8px;
                      margin: 2px;
                    "
                  >
                    ğŸŒ¿ <span id="willow_treeCount">0</span>
                  </button>

                  <button
                    class="seed-btn"
                    data-fern="data-fern"
                    style="
                      background: #3cb371;
                      border: 1px solid #000;
                      color: #fff;
                      cursor: pointer;
                      padding: 4px 8px;
                      margin: 2px;
                    "
                  >
                    â˜˜ï¸ <span id="fernCount">0</span>
                  </button>
                </div>
              </div>

              <div
                id="materials"
                style="
                  margin-top: 10px;
                  border-top: 1px solid #ccc;
                  padding-top: 10px;
                "
              >
                <div class="ui-grid__corner--sub-heading">ğŸ§± Materials</div>
                <div class="ui-grid__corner--sub-section">
                  <div>Selected: <span id="selectedMaterial">None</span></div>
                  <div>
                    <button class="material-btn" data-dirt="data-dirt">
                      ğŸŸ¤ <span id="dirtCount">0</span>
                    </button>
                    <button class="material-btn" data-stone="data-stone">
                      ğŸª¨ <span id="stoneCount">0</span>
                    </button>

                    <button class="material-btn" data-wood="data-wood">
                      ğŸªµ <span id="woodCount">0</span>
                    </button>
                    <button class="material-btn" data-sand="data-sand">
                      ğŸ–ï¸ <span id="sandCount">0</span>
                    </button>

                    <button class="material-btn" data-clay="data-clay">
                      ğŸ§± <span id="clayCount">0</span>
                    </button>
                    <button class="material-btn" data-coal="data-coal">
                      âš« <span id="coalCount">0</span>
                    </button>

                    <button class="material-btn" data-iron="data-iron">
                      ğŸ”© <span id="ironCount">0</span>
                    </button>
                    <button class="material-btn" data-gold="data-gold">
                      ğŸŸ¡ <span id="goldCount">0</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="seed-controls" hidden="hidden">
        <h4>World Generation</h4>

        <div class="seed-controls__actions">
          <label>
            Seed:
            <input
              id="worldSeedInput"
              placeholder="Enter seed..."
              type="number"
            />
          </label>

          <button id="generateWithSeed">Generate</button>
          <button id="randomSeed">Random</button>
          <button id="copySeed">Copy Seed</button>
        </div>

        <div class="current-seed">
          <p>Current seed: <span id="currentSeed"></span></p>
        </div>

        <h4>New Game, Load / Save Game File</h4>

        <div class="seed-controls__save-load">
          <button id="initNewWorld">ğŸŒ New World</button>
          <button id="loadCompressedState">Load Game File</button>
          <button id="saveCompressedState">Save Game File</button>
          <button id="useStorageBtn">ğŸ’¾ Use Storage</button>
        </div>
      </div>

      <!-- Mobile Touch Controls -->
      <div id="touchControls" hidden="hidden">
        <div class="dpad-container">
          <div class="dpad">
            <div class="touch-btn up-left" data-key="upleft">â†–</div>
            <div class="touch-btn up" data-key="w">â†‘</div>
            <div class="touch-btn up-right" data-key="upright">â†—</div>

            <div class="touch-btn left" data-key="a">â†</div>
            <div class="touch-btn right" data-key="d">â†’</div>

            <div class="touch-btn down-left" data-key="downleft">â†™</div>
            <div class="touch-btn down" data-key="s">â†“</div>
            <div class="touch-btn down-right" data-key="downright">â†˜</div>
          </div>
          <div class="dpad">
            <div class="touch-btn place-block up-left" data-key="u">â†–</div>
            <div class="touch-btn place-block up" data-key="i">â†‘</div>
            <div class="touch-btn place-block up-right" data-key="o">â†—</div>

            <div class="touch-btn place-block left" data-key="j">â†</div>
            <div class="touch-btn place-block right" data-key="l">â†’</div>

            <div class="touch-btn place-block down-left" data-key="m">â†™</div>
            <div class="touch-btn place-block down" data-key=",">â†“</div>
            <div class="touch-btn place-block down-right" data-key=".">â†˜</div>
          </div>
        </div>
        <div>
          <div class="action-buttons">
            <div class="touch-btn" data-key=" ">ğŸ¦˜</div>
            <div class="touch-btn" data-key="r">â›ï¸</div>
            <div class="touch-btn" data-key="f">ğŸŒ±</div>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="./index.mjs"></script>
  </body>
</html>
