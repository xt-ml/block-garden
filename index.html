<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <base href="/" />
    <title>Sprite Garden</title>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover"
      name="viewport"
    />
    <meta
      name="description"
      content="Sprite Garden - A 2D sandbox exploration and farming game. Explore procedurally generated worlds, discover different biomes, mine resources, and cultivate a variety of crops."
    />
    <meta name="theme-color" content="#000000" />
    <link rel="stylesheet" href="styles.css" type="text/css" />
    <link rel="manifest" href="manifest.json" />
    <link rel="icon" href="assets/icons/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png" />
    <script src="service-worker/init.mjs" type="module"></script>
  </head>
  <body>
    <div class="sprite-garden" id="gameContainer">
      <div id="loading">
        <div class="pixel pixel-one"></div>
        <div class="pixel pixel-two"></div>
        <div class="pixel pixel-three"></div>
        <div class="pixel pixel-four"></div>
        <div class="pixel pixel-five"></div>
        <div class="pixel pixel-six"></div>
        <div class="pixel pixel-seven"></div>
        <div class="pixel pixel-eight"></div>
        <div class="pixel pixel-nine"></div>
      </div>
      <canvas id="canvas"></canvas>
      <div id="ui-grid" class="ui-grid">
        <div class="ui-grid__corner ui-grid__corner--top-left">
          <div id="stats">
            <div class="ui-grid__corner--heading">ğŸŒ± Sprite Garden</div>
            <div class="ui-grid__corner--container" hidden="hidden">
              <div>Biome: <span id="currentBiome">Forest</span></div>
              <div>Depth: <span id="currentDepth">Surface</span></div>
              <div>Total Seeds: <span id="seedCount">0</span></div>
              <div>Time: <span id="gameTime">0</span>s</div>

              <div class="info-buttons-container">
                <button id="aboutBtn">â„¹ï¸ About</button>
                <button id="privacyBtn">ğŸ”’ Privacy</button>
              </div>
            </div>
          </div>
        </div>

        <div class="ui-grid__corner ui-grid__corner--top-right">
          <div id="settings">
            <div class="ui-grid__corner--heading">âš™ï¸ Settings</div>
            <div class="ui-grid__corner--container" hidden="hidden">
              <div class="settings-actions">
                <div id="resolution">
                  <select id="resolutionSelect">
                    <option value="400">400x400</option>
                    <option value="800">800x800</option>
                    <option hidden="hidden" value="fullscreen">
                      Fullscreen
                    </option>
                  </select>
                </div>
                <button id="worldState">ğŸŒ World State</button>
                <button id="toggleView">
                  ğŸ” <span id="viewModeText">View Normal</span>
                </button>
                <button id="toggleFog">
                  â˜ <span id="fogModeText">Fog</span>
                </button>
                <button id="toggleBreakMode">
                  â›ï¸ <span id="breakModeText">Dig Regular</span>
                </button>
              </div>

              <div class="settings-actions">
                <div id="examplesBtnContainer" hidden="hidden">
                  <div class="ui-grid__corner--sub-heading">ğŸ—ºï¸ Examples</div>
                  <button id="examplesBtn">
                    ğŸ“ <span id="examplesBtnText">Open</span>
                  </button>
                </div>
                <div id="mapEditor" hidden="hidden">
                  <div class="ui-grid__corner--sub-heading">ğŸ—ºï¸ Map Editor</div>
                  <button id="toggleMapEditor">
                    ğŸ“ <span id="mapEditorText">Enable Editor</span>
                  </button>
                  <div
                    class="ui-grid__corner--sub-section"
                    id="mapEditorControls"
                    hidden="hidden"
                  >
                    <div>
                      Brush Size:
                      <select id="brushSizeSelect">
                        <option value="1">1x1</option>
                        <option value="3">3x3</option>
                        <option value="5">5x5</option>
                      </select>
                    </div>
                    <div class="map-editor-controls-section">
                      <div class="map-editor-controls-section_header">
                        ğŸŒ Terrain:
                      </div>
                      <div
                        class="map-editor-controls-section_buttons-container"
                      >
                        <button class="tile-btn tile-btn--air" data-tile="AIR">
                          Air
                        </button>
                        <button
                          class="tile-btn tile-btn--dirt"
                          data-tile="DIRT"
                        >
                          Dirt
                        </button>
                        <button
                          class="tile-btn tile-btn--grass"
                          data-tile="GRASS"
                        >
                          Grass
                        </button>
                        <button
                          class="tile-btn tile-btn--stone"
                          data-tile="STONE"
                        >
                          Stone
                        </button>
                        <button
                          class="tile-btn tile-btn--sand"
                          data-tile="SAND"
                        >
                          Sand
                        </button>
                        <button
                          class="tile-btn tile-btn--clay"
                          data-tile="CLAY"
                        >
                          Clay
                        </button>
                        <button
                          class="tile-btn tile-btn--snow"
                          data-tile="SNOW"
                        >
                          Snow
                        </button>
                        <button class="tile-btn tile-btn--ice" data-tile="ICE">
                          Ice
                        </button>
                        <button
                          class="tile-btn tile-btn--cloud"
                          data-tile="CLOUD"
                        >
                          Cloud
                        </button>
                      </div>
                      <div class="map-editor-controls_header">
                        ğŸ”ï¸ Resources:
                      </div>
                      <div
                        class="map-editor-controls-section_buttons-container"
                      >
                        <button
                          class="tile-btn tile-btn--coal"
                          data-tile="COAL"
                        >
                          Coal
                        </button>
                        <button
                          class="tile-btn tile-btn--iron"
                          data-tile="IRON"
                        >
                          Iron
                        </button>
                        <button
                          class="tile-btn tile-btn--gold"
                          data-tile="GOLD"
                        >
                          Gold
                        </button>
                        <button
                          class="tile-btn tile-btn--pumice"
                          data-tile="PUMICE"
                        >
                          Pumice
                        </button>
                      </div>
                      <div class="map-editor-controls_header">ğŸŒ³ Nature:</div>
                      <div
                        class="map-editor-controls-section_buttons-container"
                      >
                        <button
                          class="tile-btn tile-btn--tree_trunk"
                          data-tile="TREE_TRUNK"
                        >
                          Trunk
                        </button>
                        <button
                          class="tile-btn tile-btn--tree_leaves"
                          data-tile="TREE_LEAVES"
                        >
                          Leaves
                        </button>
                        <button
                          class="tile-btn tile-btn--water"
                          data-tile="WATER"
                        >
                          Water
                        </button>
                        <button
                          class="tile-btn tile-btn--lava"
                          data-tile="LAVA"
                        >
                          Lava
                        </button>
                      </div>
                      <div class="map-editor-controls_header">ğŸŒ± Crops:</div>
                      <div
                        class="map-editor-controls-section_buttons-container"
                      >
                        <button
                          class="tile-btn tile-btn--wheat"
                          data-tile="WHEAT"
                        >
                          Wheat
                        </button>
                        <button
                          class="tile-btn tile-btn--carrot"
                          data-tile="CARROT"
                        >
                          Carrot
                        </button>
                        <button
                          class="tile-btn tile-btn--mushroom"
                          data-tile="MUSHROOM"
                        >
                          Mushroom
                        </button>
                        <button
                          class="tile-btn tile-btn--cactus"
                          data-tile="CACTUS"
                        >
                          Cactus
                        </button>
                        <button
                          class="tile-btn tile-btn--tulip"
                          data-tile="TULIP"
                        >
                          Tulip
                        </button>
                        <button
                          class="tile-btn tile-btn--agave"
                          data-tile="AGAVE"
                        >
                          Agave
                        </button>
                        <button
                          class="tile-btn tile-btn--lavender"
                          data-tile="LAVENDER"
                        >
                          Lavender
                        </button>
                        <button
                          class="tile-btn tile-btn--kelp"
                          data-tile="KELP"
                        >
                          Kelp
                        </button>
                        <button
                          class="tile-btn tile-btn--rose"
                          data-tile="ROSE"
                        >
                          Rose
                        </button>
                        <button
                          class="tile-btn tile-btn--pumpkin"
                          data-tile="PUMPKIN"
                        >
                          Pumpkin
                        </button>
                        <button
                          class="tile-btn tile-btn--lotus"
                          data-tile="LOTUS"
                        >
                          Lotus
                        </button>
                        <button
                          class="tile-btn tile-btn--birch"
                          data-tile="BIRCH"
                        >
                          Birch
                        </button>
                      </div>
                    </div>
                    <div>
                      <button id="clearMapEditor">ğŸ§¹ Clear All</button>
                      <button id="fillMapEditor">ğŸª£ Fill Layer</button>
                      <button id="saveMapAsState">ğŸ’¾ Save as State</button>
                      <button id="resetToGenerated">
                        ğŸŒ Reset to Generated
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="ui-grid__corner ui-grid__corner--bottom-left">
          <div id="controls">
            <div class="ui-grid__corner--heading">âŒ¨ï¸ Controls</div>
            <div class="ui-grid__corner--container" hidden="hidden">
              <div class="control-instruction">w/â†‘/Space: Jump</div>
              <div class="control-instruction">a/d or â†/â†’: Move</div>
              <div class="control-instruction">f: Plant/Harvest</div>
              <div class="control-instruction">r: Break Block</div>
              <div class="control-instruction">e/x/k: Change scale/mode</div>
              <div class="control-instruction">u/i/o/j/l/m/,/.: Set Block</div>
              <div class="control-instruction">ctrl+s: World State</div>
              <div class="control-instruction">Mouse: Inspect Tiles</div>
              <div
                class="control-instruction control-instruction_icon-container"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  height="24px"
                  viewBox="0 -960 960 960"
                  width="24px"
                  fill="var(--sg-color-gray-200)"
                >
                  <path
                    d="M419-80q-28 0-52.5-12T325-126L107-403l19-20q20-21 48-25t52 11l74 45v-328q0-17 11.5-28.5T340-760q17 0 29 11.5t12 28.5v472l-97-60 104 133q6 7 14 11t17 4h221q33 0 56.5-23.5T720-240v-160q0-17-11.5-28.5T680-440H461v-80h219q50 0 85 35t35 85v160q0 66-47 113T640-80H419ZM167-620q-13-22-20-47.5t-7-52.5q0-83 58.5-141.5T340-920q83 0 141.5 58.5T540-720q0 27-7 52.5T513-620l-69-40q8-14 12-28.5t4-31.5q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 17 4 31.5t12 28.5l-69 40Zm335 280Z"
                  />
                </svg>
                Mobile Controls
              </div>
            </div>
          </div>
        </div>

        <div class="ui-grid__corner ui-grid__corner--bottom-right">
          <div id="inventory">
            <div class="ui-grid__corner--heading" id="seeds">ğŸ’ Inventory</div>
            <div class="ui-grid__corner--container" hidden="hidden">
              <div class="ui-grid__corner--sub-heading">ğŸ«˜ Seeds</div>
              <div class="ui-grid__corner--sub-section">
                <div>Selected: <span id="selectedSeed">None</span></div>
                <div>
                  <button class="seed-btn" data-wheat="data-wheat">
                    ğŸŒ¾ <span id="wheatCount">0</span>
                  </button>
                  <button class="seed-btn" data-carrot="data-carrot">
                    ğŸ¥• <span id="carrotCount">0</span>
                  </button>
                  <button class="seed-btn" data-mushroom="data-mushroom">
                    ğŸ„ <span id="mushroomCount">0</span>
                  </button>
                  <button class="seed-btn" data-cactus="data-cactus">
                    ğŸŒµ <span id="cactusCount">0</span>
                  </button>
                  <button class="seed-btn" data-walnut="data-walnut">
                    ğŸŒ° <span id="walnutCount">0</span>
                  </button>
                  <button
                    class="seed-btn seed-btn--berry-bush"
                    data-berry_bush="data-berry_bush"
                  >
                    ğŸ“ <span id="berry_bushCount">0</span>
                  </button>

                  <button
                    class="seed-btn seed-btn--bamboo"
                    data-bamboo="data-bamboo"
                  >
                    ğŸ‹ <span id="bambooCount">0</span>
                  </button>

                  <button
                    class="seed-btn seed-btn--sunflower"
                    data-sunflower="data-sunflower"
                  >
                    ğŸŒ» <span id="sunflowerCount">0</span>
                  </button>

                  <button class="seed-btn seed-btn--corn" data-corn="data-corn">
                    ğŸŒ½ <span id="cornCount">0</span>
                  </button>

                  <button
                    class="seed-btn seed-btn--pine-tree"
                    data-pine_tree="data-pine_tree"
                  >
                    ğŸŒ² <span id="pine_treeCount">0</span>
                  </button>

                  <button
                    class="seed-btn seed-btn--willow-tree"
                    data-willow_tree="data-willow_tree"
                  >
                    ğŸŒ³ <span id="willow_treeCount">0</span>
                  </button>

                  <button class="seed-btn seed-btn--fern" data-fern="data-fern">
                    ğŸŒ¿ <span id="fernCount">0</span>
                  </button>
                  <button
                    class="seed-btn seed-btn--tulip"
                    data-tulip="data-tulip"
                  >
                    ğŸŒ· <span id="tulipCount">0</span>
                  </button>
                  <button
                    class="seed-btn seed-btn--agave"
                    data-agave="data-agave"
                  >
                    ğŸŒ± <span id="agaveCount">0</span>
                  </button>
                  <button
                    class="seed-btn seed-btn--lavender"
                    data-lavender="data-lavender"
                  >
                    ğŸŒº <span id="lavenderCount">0</span>
                  </button>
                  <button class="seed-btn seed-btn--kelp" data-kelp="data-kelp">
                    <div class="swatch-kelp"></div>
                    <span id="kelpCount">0</span>
                  </button>
                  <button class="seed-btn seed-btn--rose" data-rose="data-rose">
                    ğŸŒ¸ <span id="roseCount">0</span>
                  </button>
                  <button
                    class="seed-btn seed-btn--pumpkin"
                    data-pumpkin="data-pumpkin"
                  >
                    ğŸƒ <span id="pumpkinCount">0</span>
                  </button>
                  <button
                    class="seed-btn seed-btn--lotus"
                    data-lotus="data-lotus"
                  >
                    ğŸª· <span id="lotusCount">0</span>
                  </button>
                  <button
                    class="seed-btn seed-btn--birch"
                    data-birch="data-birch"
                  >
                    ğŸªµ <span id="birchCount">0</span>
                  </button>
                </div>
              </div>

              <div id="materials">
                <div class="ui-grid__corner--sub-heading">ğŸ§± Materials</div>
                <div class="ui-grid__corner--sub-section">
                  <div>Selected: <span id="selectedMaterial">None</span></div>
                  <div>
                    <button
                      class="material-btn material-btn--dirt"
                      data-dirt="data-dirt"
                    >
                      ğŸŸ¤ <span id="dirtCount">0</span>
                    </button>
                    <button
                      class="material-btn material-btn--stone"
                      data-stone="data-stone"
                    >
                      ğŸª¨ <span id="stoneCount">0</span>
                    </button>

                    <button
                      class="material-btn material-btn--grass"
                      data-grass="data-grass"
                    >
                      <div class="swatch-grass"></div>
                      <span id="grassCount">0</span>
                    </button>

                    <button
                      class="material-btn material-btn--snow"
                      data-snow="data-snow"
                    >
                      â„ï¸ <span id="snowCount">0</span>
                    </button>

                    <button
                      class="material-btn material-btn--ice"
                      data-ice="data-ice"
                    >
                      ğŸ§Š <span id="iceCount">0</span>
                    </button>

                    <button
                      class="material-btn material-btn--wood"
                      data-wood="data-wood"
                    >
                      ğŸªµ <span id="woodCount">0</span>
                    </button>
                    <button
                      class="material-btn material-btn--sand"
                      data-sand="data-sand"
                    >
                      ğŸ–ï¸ <span id="sandCount">0</span>
                    </button>

                    <button
                      class="material-btn material-btn--clay"
                      data-clay="data-clay"
                    >
                      ğŸ§± <span id="clayCount">0</span>
                    </button>
                    <button
                      class="material-btn material-btn--coal"
                      data-coal="data-coal"
                    >
                      âš« <span id="coalCount">0</span>
                    </button>

                    <button
                      class="material-btn material-btn--iron"
                      data-iron="data-iron"
                    >
                      ğŸ”© <span id="ironCount">0</span>
                    </button>
                    <button
                      class="material-btn material-btn--gold"
                      data-gold="data-gold"
                    >
                      ğŸŸ¡ <span id="goldCount">0</span>
                    </button>
                    <button
                      class="material-btn material-btn--pumice"
                      data-pumice="data-pumice"
                    >
                      <div class="swatch-pumice"></div>
                      <span id="pumiceCount">0</span>
                    </button>
                    <button
                      class="material-btn material-btn--cloud"
                      data-cloud="data-cloud"
                    >
                      â˜ï¸ <span id="cloudCount">0</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="seed-controls" hidden="hidden">
        <h4>World Generation</h4>

        <div class="seed-controls__actions">
          <label>
            Seed:
            <input
              id="worldSeedInput"
              placeholder="Enter seed..."
              type="number"
            />
          </label>

          <button id="generateWithSeed">Generate</button>
          <button id="randomSeed">Random</button>
          <button id="copySeed">Copy Seed</button>
        </div>

        <div class="current-seed">
          <p>Current seed: <span id="currentSeed"></span></p>
        </div>

        <h4>New Game, Load / Save Game File</h4>

        <div class="seed-controls__save-load">
          <button id="initNewWorld">ğŸŒ New World</button>
          <button id="loadCompressedState">Load Game File</button>
          <button id="saveCompressedState">Save Game File</button>
          <button id="useStorageBtn">ğŸ’¾ Use Storage</button>
        </div>
      </div>

      <!-- Mobile Touch Controls -->
      <div id="touchControls" hidden="hidden">
        <div class="dpad-container">
          <div class="dpad">
            <div class="touch-btn up-left" data-key="upleft">â†–</div>
            <div class="touch-btn up" data-key="w">â†‘</div>
            <div class="touch-btn up-right" data-key="upright">â†—</div>

            <div class="touch-btn left" data-key="a">â†</div>
            <div class="touch-btn middle" data-key="x">&times;</div>
            <div class="touch-btn right" data-key="d">â†’</div>

            <div class="touch-btn down-left" data-key="downleft">â†™</div>
            <div class="touch-btn down" data-key="s">â†“</div>
            <div class="touch-btn down-right" data-key="downright">â†˜</div>
          </div>
          <div class="dpad">
            <div class="touch-btn place-block up-left" data-key="u">â†–</div>
            <div class="touch-btn place-block up" data-key="i">â†‘</div>
            <div class="touch-btn place-block up-right" data-key="o">â†—</div>

            <div class="touch-btn place-block left" data-key="j">â†</div>
            <div class="touch-btn place-block middle" data-key="k">&times;</div>
            <div class="touch-btn place-block right" data-key="l">â†’</div>

            <div class="touch-btn place-block down-left" data-key="m">â†™</div>
            <div class="touch-btn place-block down" data-key=",">â†“</div>
            <div class="touch-btn place-block down-right" data-key=".">â†˜</div>
          </div>
        </div>
        <div>
          <div class="action-buttons">
            <div class="touch-btn" data-key=" ">ğŸ¦˜</div>
            <div class="touch-btn" data-key="r">â›ï¸</div>
            <div class="touch-btn" data-key="f">ğŸ§‘â€ğŸŒ¾</div>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="./index.mjs"></script>
  </body>
</html>
